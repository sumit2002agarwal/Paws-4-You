{"ast":null,"code":"import _objectSpread from\"C:/Users/win11/Desktop/adopet/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{motion}from\"framer-motion\";import{useForm,useController}from\"react-hook-form\";import{useNavigate}from\"react-router-dom\";import SvgComponent from'../assets/logo-no-background.png';import Button from\"./Button.js\";import axios from\"axios\";import Swal from'sweetalert2';import Header from\"./Header\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var bu=process.env.REACT_APP_BASEURL;var Payment=function Payment(){var navigate=useNavigate();var _useForm=useForm({mode:\"onBlur\",reValidateMode:\"onChange\"}),register=_useForm.register,handleSubmit=_useForm.handleSubmit,errors=_useForm.formState.errors;var handleOpenRazorpay=function handleOpenRazorpay(data){var options={key:'rzp_test_rGxHmaYvQD7bhS',amount:Number(data.amount),currency:data.currency,order_id:data.id,name:'Paws4You',description:'Serving pets',handler:function handler(response){console.log(response,\"34\");axios.post(\"\".concat(bu,\"/verify\"),{response:response}).then(function(res){console.log(res,\"37\");Swal.fire({title:'Success!',text:'Login Successful',icon:'success',confirmButtonText:'Success',timer:'2000'});navigate(\"/userhome\");}).catch(function(err){console.log(err);});}};var rzp=new window.Razorpay(options);rzp.open();};var onSubmit=function onSubmit(data){var amount=data.amount;var _data={amount:amount};axios.post(\"\".concat(bu,\"/orders\"),_data).then(function(res){console.log(res.data,\"29\");handleOpenRazorpay(res.data.data);}).catch(function(err){console.log(err);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(motion.section,{className:\"register\",initial:{width:0},animate:{width:\"100%\",transition:{duration:0.5}},exit:{x:window.innerWidth,transition:{duration:0.5}},children:[/*#__PURE__*/_jsx(\"img\",{src:SvgComponent,alt:\"\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Help us save mankind\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"amount\",children:\"Enter Amount\"}),/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({id:\"amount\",type:\"Number\"},register(\"amount\",{required:\"É necessário informar um endereço de email\"})),{},{placeholder:\"0.0\"})),errors.amount&&/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errors.amount.message||\"Por favor, verifique o email digitado\"}),/*#__PURE__*/_jsx(Button,{type:\"submit\",children:\"Donate\"})]})]})]});};export default Payment;","map":{"version":3,"names":["motion","useForm","useController","useNavigate","SvgComponent","Button","axios","Swal","Header","bu","process","env","REACT_APP_BASEURL","Payment","navigate","mode","reValidateMode","register","handleSubmit","errors","formState","handleOpenRazorpay","data","options","key","amount","Number","currency","order_id","id","name","description","handler","response","console","log","post","then","res","fire","title","text","icon","confirmButtonText","timer","catch","err","rzp","window","Razorpay","open","onSubmit","_data","width","transition","duration","x","innerWidth","required","message"],"sources":["C:/Users/win11/Desktop/adopet/frontend/src/Components/payment.js"],"sourcesContent":["\r\nimport { motion } from \"framer-motion\";\r\n\r\nimport { useForm,useController  } from \"react-hook-form\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport SvgComponent from '../assets/logo-no-background.png'\r\n\r\nimport Button from \"./Button.js\";\r\nimport axios from \"axios\";\r\nimport Swal from 'sweetalert2'\r\nimport Header from \"./Header\";\r\nconst bu=process.env.REACT_APP_BASEURL\r\nconst Payment = () => {\r\n\r\n\tconst navigate = useNavigate();\r\n\r\n\t\r\n\t\r\n\tconst {\r\n\t\tregister,\r\n\t\thandleSubmit,\r\n\t\tformState: { errors },\r\n\t\t\r\n\t} = useForm({\r\n\t\tmode: \"onBlur\",\r\n\t\treValidateMode: \"onChange\",\r\n\t});\r\n\r\n\tconst handleOpenRazorpay = (data) => {\r\n\r\n        const options = {\r\n            key:'rzp_test_rGxHmaYvQD7bhS',\r\n            amount: Number(data.amount),\r\n            currency: data.currency,\r\n            order_id: data.id,\r\n            name: 'Paws4You',\r\n            description: 'Serving pets',\r\n            handler: function (response) {\r\n                console.log(response, \"34\")\r\n                axios.post(`${bu}/verify`, { response: response })\r\n                    .then(res => {\r\n                        console.log(res, \"37\")\r\n                        Swal.fire({\r\n\t\t\t\t\t\t\ttitle: 'Success!',\r\n\t\t\t\t\t\t\ttext: 'Login Successful',\r\n\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\tconfirmButtonText: 'Success',\r\n\t\t\t\t\t\t\ttimer: '2000'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tnavigate(\"/userhome\");\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err)\r\n                    })\r\n            }\r\n\r\n        }\r\n        const rzp = new window.Razorpay(options)\r\n        rzp.open()\r\n\t\t\r\n    }\r\n\r\n\t   const onSubmit = (data) => {\r\n\t\tconst {amount}=data;\r\n        const _data = { amount: amount }\r\n        axios.post(`${bu}/orders`, _data)\r\n            .then(res => {\r\n                console.log(res.data, \"29\")\r\n                handleOpenRazorpay(res.data.data)\r\n            })\r\n            .catch(err => {\r\n                console.log(err)\r\n            })\r\n    }\r\n\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Header/>\r\n\t\t\r\n\t\t<motion.section\r\n\r\n\t\t\tclassName=\"register\"\r\n\t\t\tinitial={{ width: 0 }}\r\n\t\t\tanimate={{ width: \"100%\", transition: { duration: 0.5 } }}\r\n\t\t\texit={{ x: window.innerWidth, transition: { duration: 0.5 } }}\r\n\t\t>\r\n\t\t\t<img src={SvgComponent} alt=\"\" />\r\n\t\t\t\r\n\t\t\t<p>Help us save mankind</p>\r\n\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n\r\n\t\t\t<label htmlFor=\"amount\">Enter Amount</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tid=\"amount\"\r\n\t\t\t\t\ttype=\"Number\"\r\n\t\t\t\t\t{...register(\"amount\", {\r\n\t\t\t\t\t\trequired: \"É necessário informar um endereço de email\",\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})}\r\n\t\t\t\t\tplaceholder=\"0.0\"\r\n\t\t\t\t/>\r\n\t\t\t\t{errors.amount && (\r\n\t\t\t\t\t<p className=\"error\">\r\n\t\t\t\t\t\t{errors.amount.message || \"Por favor, verifique o email digitado\"}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t<Button type=\"submit\" children=\"Donate\" />\r\n\t\t\t\t\r\n\t\t\t</form>\r\n\t\t</motion.section>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Payment;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}